get:
  summary: Get the movies list with the pagination support
  operationId: getMovies
  tags:
    - movie
  parameters:
    - in: query
      name: pageNumber
      required: false
      description: |
        The page number (which starts with 1) to fetch the set of movies from.
        The movies are split into multiple pages with each page having a limited number of movies.
      schema:
        type: integer
        default: 1
    - in: query
      name: genres
      required: false
      description: |
        The comma separated list of genres to filter the movies. The valid genres are action, adventure, animation, comedy, crime, documentary, drama, family, fantasy, history, horror, music , mystery, romance, science fiction, thriller, war and western.
      schema:
        type: array
        items:
          type: string
    - in: query
      name: releaseYear
      required: false
      description: |
        The release year to use for filtering the movies by release date. If release year is specified then release from and release to are ignored.
      schema:
        type: integer
    - in: query
      name: releaseFrom
      required: false
      description: |
        The release date as the starting point of date range to filter the movies by release date.
        Use either release from / to or release year. If release year is specified then release from and release to are ignored.
        The date format is yyy-mm-dd.
        For example, 2024-01-01 for January 1st 2024 or 2024-12-31 for December 31st 2024.
      schema:
        type: string
        format: date
    - in: query
      name: releaseTo
      required: false
      description: |
        The release date as the ending point of date range to filter the movies by release date.
        The date format is yyy-mm-dd.
        For example, 2024-01-01 for January 1st 2024 or 2024-12-31 for December 31st 2024.
      schema:
        type: string
        format: date
  responses:
    '200':
      description: Successfully returned an array of movieItem for the given page
      headers:
        rf-page-number:
          description: The page number that the list of movies returned belong to
          schema:
            type: integer
      content:
        application/json:
          schema:
            type: object
            properties:
              items:
                type: array
                items:
                  $ref: ../components/movieItem.yaml
              length:
                type: integer
              totalPages:
                type: integer
              totalItems:
                type: integer
    '400':
      $ref: ../components/badRequest.yaml
    '404':
      description: The page number provided is out of range.
      content:
        application/json:
          schema:
            type: object
            properties:
              message:
                type: string
    '500':
      $ref: ../components/internalServerError.yaml
post:
  summary: Add new movie
  operationId: addMovie
  tags:
    - movie
  requestBody:
    description: Payload for the new movie
    required: true
    content:
      application/json:
        schema:
          type: object
          properties:
            tmdbId:
              type: integer
            imdbId:
              type: string
            title:
              type: string
            originalTitle:
              type: string
            overview:
              type: string
            runtime:
              type: integer
            releaseDate:
              type: string
              format: date
            genres:
              type: array
              items:
                type: string
            countriesOfOrigin:
              type: array
              items:
                type: string
            language:
              type: string
            movieStatus:
              type: string
            popularity:
              type: number
              format: float
            budget:
              type: integer
              format: int64
            revenue:
              type: integer
              format: int64
            ratingAverage:
              type: number
              format: float
            ratingCount:
              type: integer
            posterUrl:
              type: string
              format: uri
            rentalRate:
              type: number
              format: double
            rentalDuration:
              type: integer
              format: int32
            actors:
              type: array
              items:
                type: object
                properties:
                  tmdbId:
                    type: integer
                  imdbId:
                    type: string
                  actorName:
                    type: string
                  biography:
                    type: string
                  birthday:
                    type: string
                    format: date
                  deathday:
                    type: string
                    format: date
                  placeOfBirth:
                    type: string
                  popularity:
                    type: number
                    format: float
                  profilePictureUrl:
                    type: string
                    format: uri
                  characterName:
                    type: string
                  castOrder:
                    type: integer
  responses:
    '201':
      description: Successfully add new movie
      content:
        application/json:
          schema:
            type: object
            properties:
              id:
                type: integer
              imdbId:
                type: integer
              title:
                type: string
              originalTitle:
                type: string
              overview:
                type: string
              runtime:
                type: integer
              releaseDate:
                type: string
                format: date
              genres:
                type: array
                items:
                  type: string
              countriesOfOrigin:
                type: array
                items:
                  type: string
              language:
                type: string
              movieStatus:
                type: string
              popularity:
                type: number
                format: float
              budget:
                type: integer
                format: int64
              revenue:
                type: integer
                format: int64
              ratingAverage:
                type: number
                format: float
              ratingCount:
                type: integer
              posterUrl:
                type: string
                format: uri
              rentalRate:
                type: number
                format: double
              rentalDuration:
                type: integer
    '400':
      $ref: ../components/badRequest.yaml
    '401':
      $ref: ../components/unauthorized.yaml
    '404':
      $ref: ../components/notFound.yaml
    '500':
      $ref: ../components/internalServerError.yaml
