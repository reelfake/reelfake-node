get:
  summary: Get movies by page
  operationId: getMovies
  parameters:
    - in: query
      name: pageNumber
      required: false
      description: |
        The page number (which starts with 1) to fetch the set of movies from.
        The movies are split into multiple pages with each page having a limited number of movies.
      schema:
        type: integer
        default: 1
    - in: query
      name: genres
      required: false
      description: |
        The comma separated list of genres to filter the movies. The valid genres are action, adventure, animation, comedy, crime, documentary, drama, family, fantasy, history, horror, music , mystery, romance, science fiction, thriller, war and western.
      schema:
        type: array
        items:
          type: string
    - in: query
      name: releaseYear
      required: false
      description: |
        The release year to use for filtering the movies by release date. 
        The release year must be between 1970 and 2050 inclusively.
      schema:
        type: integer
    - in: query
      name: releaseFrom
      required: false
      description: |
        The release date as the starting point of date range to filter the movies by release date.
        The release year must be between 1970 and 2050 inclusively. The date format is yyy-mm-dd.
        For example, 2024-01-01 for January 1st 2024 or 2024-12-31 for December 31st 2024.
      schema:
        type: string
        format: date
    - in: query
      name: releaseTo
      required: false
      description: |
        The release date as the ending point of date range to filter the movies by release date.
        The release year must be between 1970 and 2050 inclusively. The date format is yyy-mm-dd.
        For example, 2024-01-01 for January 1st 2024 or 2024-12-31 for December 31st 2024.
      schema:
        type: string
        format: date
  responses:
    '200':
      description: Successfully returned a list of movies for the given page
      headers:
        rf-page-number:
          description: The page number that the list of movies returned belong to
          schema:
            type: integer
      content:
        application/json:
          schema:
            type: object
            properties:
              items:
                type: array
                items:
                  $ref: ../components/movieSummary.yaml
              length:
                type: integer
              totalPages:
                type: integer
              totalItems:
                type: integer
    '400':
      description: Bad request
      content:
        application/json:
          schema:
            type: object
            properties:
              message:
                type: string
    '404':
      description: The page is out of range meaning the page number provided in the request query has exceeded the total number of movies present.
      content:
        application/json:
          schema:
            type: object
            properties:
              message:
                type: string
    '401':
      $ref: ../components/unauthorized.yaml
