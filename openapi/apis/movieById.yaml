get:
  summary: Get movie detail using the id
  operationId: getMovieById
  tags:
    - movie
  parameters:
    - in: path
      name: id
      required: true
      description: The id of the movie
      schema:
        type: integer
    - in: query
      name: include_actors
      required: false
      description: |
        Whether or not to include the actors of the movie. Accepted values are true, false, yes, no, 0 and 1.
        If include_actors value is truthy then the movie object will contain actors array.
        If this is not present in query then it will default to false. If any value other than the accepted ones are
        given, 400 is returned.
      schema:
        type: boolean
        default: false
  responses:
    '200':
      description: Successfully returned the movie data with or without the actors
      content:
        application/json:
          schema:
            $ref: ../components/movieDetail.yaml
    '400':
      $ref: ../components/badRequest.yaml
    '404':
      $ref: ../components/notFound.yaml
    '500':
      $ref: ../components/internalServerError.yaml
put:
  summary: Update movie
  operationId: updateMovie
  tags:
    - movie
  parameters:
    - in: path
      name: id
      required: true
      description: The id of the movie
      schema:
        type: integer
  requestBody:
    description: Payload of the movie to update
    required: true
    content:
      application/json:
        schema:
          type: object
          properties:
            tmdbId:
              type: integer
            imdbId:
              type: string
            title:
              type: string
            originalTitle:
              type: string
            overview:
              type: string
            runtime:
              type: integer
            releaseDate:
              type: string
              format: date
            genres:
              type: array
              items:
                type: string
            countriesOfOrigin:
              type: array
              items:
                type: string
            language:
              type: string
            movieStatus:
              type: string
            popularity:
              type: number
              format: float
            budget:
              type: integer
              format: int64
            revenue:
              type: integer
              format: int64
            ratingAverage:
              type: number
              format: float
            ratingCount:
              type: integer
            posterUrl:
              type: string
              format: uri
            rentalRate:
              type: number
              format: double
            rentalDuration:
              type: integer
              format: int32
  responses:
    '204':
      description: Successfully updated the movie
    '400':
      $ref: ../components/badRequest.yaml
    '401':
      $ref: ../components/unauthorized.yaml
    '404':
      $ref: ../components/notFound.yaml
    '500':
      $ref: ../components/internalServerError.yaml
delete:
  summary: |
    Delete the movie.
    Note: This operation will delete movie actors and inventory for the movie as well.
  operationId: deleteMovie
  tags:
    - movie
  parameters:
    - in: path
      name: id
      required: true
      description: The id of the movie
      schema:
        type: integer
  responses:
    '204':
      description: Successfully deleted the movie
    '400':
      $ref: ../components/badRequest.yaml
    '401':
      $ref: ../components/unauthorized.yaml
    '403':
      $ref: ../components/forbidden.yaml
    '404':
      $ref: ../components/notFound.yaml
    '500':
      $ref: ../components/internalServerError.yaml
